<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="Happy Birthday Website 2.0 | Aoudumber Bade">
    <meta name="github" content="https://github.com/Aoudumber-Bade">
    <title>Ritika's Birthday</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        crossorigin="anonymous"></script>
</head>

<body>
    <div id="wrapper">
        <div class="flag__birthday">
            <img src="./images/1.png" alt="" width="350" class="flag__left">
            <img src="./images/1.png" alt="" width="350" class="flag__right">
        </div>

        <div class="content">
            <div class="left">
                <div class="title">
                    <h1 class="happy">
                        <span style="--t: 4s;">H</span>
                        <span style="--t: 4.2s;">a</span>
                        <span style="--t: 4.4s;">p</span>
                        <span style="--t: 4.6s;">p</span>
                        <span style="--t: 4.8s;">y</span>
                    </h1>
                    <h1 class="birthday">
                        <span style="--t: 5s;">B</span>
                        <span style="--t: 5.2s;">i</span>
                        <span style="--t: 5.4s;">r</span>
                        <span style="--t: 5.6s;">t</span>
                        <span style="--t: 5.8s;">h</span>
                        <span style="--t: 6s;">d</span>
                        <span style="--t: 6.2s;">a</span>
                        <span style="--t: 6.4s;">y</span>
                    </h1>
                    <div class="hat">
                        <img src="./images/hat.png" alt="" width="130">
                    </div>
                </div>

                <div class="date__of__birth">
                    <span></span>
                </div>

                <div class="btn">
                    <button id="btn__letter">
                        <div class="mail">
                            Your Love Letter
                            <i class="fa-regular fa-envelope"></i>
                        </div>
                    </button>
                </div>

                <!-- ðŸ”’ SMALL LOCK POPUP ABOVE BUTTON -->
                <div class="miniLockPopup" id="miniLockPopup">
                    <div class="miniLockBox">
                        <h3 class="miniTitle">ðŸ”’ Locked</h3>
                        <p class="miniMsg">Solve a quiz to unlock your love letter.</p>
                        <div class="miniBtns">
                            <button id="miniContinue">Continue</button>
                            <button id="miniExit">Goodbye</button>
                        </div>
                    </div>
                </div>
                <!-- END LOCK POPUP -->
            </div>

            <div class="right">
                <div class="box__account">
                    <div class="image">
                        <img src="./images/unnamed.png" alt="">
                    </div>
                    <div class="name">
                        <i class="fa-solid fa-heart"></i>
                        <span>Dear Pavitra</span>
                        <i class="fa-solid fa-heart"></i>
                    </div>
                    <div class="balloon_one">
                        <img width="100px" src="./images/balloon1.png" alt="">
                    </div>
                    <div class="balloon_two">
                        <img width="100px" src="./images/balloon2.png" alt="">
                    </div>
                </div>

                <div class="cricle">
                    <div class="text__cricle">
                        <span style="--i: 1;">h</span>
                        <span style="--i: 2;">a</span>
                        <span style="--i: 3;">p</span>
                        <span style="--i: 4;">p</span>
                        <span style="--i: 5;">y</span>
                        <span style="--i: 6;">-</span>
                        <span style="--i: 7;">b</span>
                        <span style="--i: 8;">i</span>
                        <span style="--i: 9;">r</span>
                        <span style="--i: 10;">t</span>
                        <span style="--i: 11;">h</span>
                        <span style="--i: 12;">d</span>
                        <span style="--i: 13;">a</span>
                        <span style="--i: 14;">y</span>
                        <span style="--i: 15;">-</span>
                    </div>
                    <i class="fa-solid fa-heart"></i>
                </div>
            </div>
        </div>

        <div class="decorate_star star1" style="--t: 15s;"></div>
        <div class="decorate_star star2" style="--t: 15.2s;"></div>
        <div class="decorate_star star3" style="--t: 15.4s;"></div>
        <div class="decorate_star star4" style="--t: 15.6s;"></div>
        <div class="decorate_star star5" style="--t: 15.8s;"></div>

        <div class="decorate_flower--one" style="--t: 15s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--two" style="--t: 15.3s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>
        <div class="decorate_flower--three" style="--t: 15.6s;">
            <img width="20" src="./images/decorate_flower.png" alt="">
        </div>

        <div class="decorate_bottom">
            <img src="./images/decorate.png" alt="" width="100">
        </div>

        <div class="smiley__icon">
            <img src="./images/smiley_icon.png" alt="" width="100">
        </div>

        <!-- EXISTING LOVE LETTER POPUP (kept same) -->
        <div class="boxMail">
            <i class="fa-solid fa-xmark"></i>
            <div class="boxMail-container">
                <div class="card1">
                    <div class="userImg">
                        <img src="images/unnamed.png" alt="">
                    </div>
                    <h4 class="username">To: Pavitra ðŸ’–<span class="underline"></span></h4>
                    <h3>Happy Birthday</h3>
                    <div class="imageCute">
                        <img src="cute1.png" alt="">
                    </div>
                </div>
                <div class="card2">
                    <div class="card2-content">
                        <h3>To You!</h3>
                        <h2>Happy birthday ðŸ¥³ðŸŽ‚ðŸ¥³ chanda the day you come into my life I was not really much attached to
                            you but day by day you became close to my heart . And now you are truly my younger sister. I
                            wish I could remove some of the pain from your life which you are bearing alone. But you're
                            always welcome ðŸ¤— you can talk anytime you want to talk specially those which you can't say
                            to others. And this year your all dreams come true . I wish that your
                            brother could wish you but if couldn't wish on him behalf I am wishing you happy birthday
                            ðŸŽˆðŸŽ‚ðŸŽˆ sana . Don't be Sad ok be happy ðŸ˜Œ
                        </h2>
                        <div class="imageCute2">
                            <img src="cute2.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ðŸŽ¡ EXPERIENCE OVERLAY: QUIZ â†’ PHOTO â†’ CAKE â†’ FIREWORKS -->
        <div class="experienceOverlay" id="experienceOverlay">
            <!-- STEP 1: QUIZ -->
            <div class="experienceScreen experienceScreen--quiz experienceScreen--active">
                <div class="experienceCard">
                    <h2 class="experienceTitle">Quiz Time ðŸ’–</h2>
                    <p class="experienceSubtitle">Solve this to unlock your surprise.</p>

                    <form id="quizForm">
                        <!-- Q1: text -->
                        <div class="quizItem">
                            <label>1. What do you think you mean to me? ðŸ¥º</label>
                            <input type="text" name="q1" placeholder="Your answer..." required>
                        </div>

                        <!-- Q2: MCQ -->
                        <div class="quizItem">
                            <label>2. Which vibe suits you the most?</label>
                            <div class="quizOptions">
                                <label><input type="radio" name="q2" value="cute" required> Cute</label>
                                <label><input type="radio" name="q2" value="crazy"> Crazy</label>
                                <label><input type="radio" name="q2" value="sweet"> Sweet</label>
                            </div>
                        </div>

                        <!-- Q3: text -->
                        <div class="quizItem">
                            <label>3. One wish for this year? ðŸŽ¯</label>
                            <input type="text" name="q3" placeholder="Type your wish..." required>
                        </div>

                        <!-- Q4: MCQ -->
                        <div class="quizItem">
                            <label>4. Perfect way to celebrate your birthday?</label>
                            <div class="quizOptions">
                                <label><input type="radio" name="q4" value="family" required> With family</label>
                                <label><input type="radio" name="q4" value="friends"> With friends</label>
                                <label><input type="radio" name="q4" value="me"> With me ðŸ˜Œ</label>
                            </div>
                        </div>

                        <!-- Q5: text -->
                        <div class="quizItem">
                            <label>5. One thing you never want to lose? ðŸ’«</label>
                            <input type="text" name="q5" placeholder="Your answer..." required>
                        </div>

                        <button type="submit" class="quizSubmit">Submit quiz</button>
                    </form>
                </div>
            </div>

            <!-- STEP 2: PHOTO -->
            <div class="experienceScreen experienceScreen--photo">
                <div class="experienceCard">
                    <img src="./images/her-photo.jpg" alt="You" class="experiencePhoto">
                    <p class="experienceSubtitle">One more surprise for you...</p>
                    <button id="photoNextBtn" class="quizSubmit">Next</button>
                </div>
            </div>

            <!-- STEP 3: CAKE -->
            <div class="experienceScreen experienceScreen--cake">
                <div class="experienceCard">
                    <div class="digitalCake">
                        <div class="cake-base"></div>
                        <div class="cake-layer cake-layer--top"></div>
                        <div class="cake-layer cake-layer--middle"></div>
                        <div class="cake-layer cake-layer--bottom"></div>
                        <div class="cake-candles">
                            <div class="candle">
                                <div class="flame"></div>
                            </div>
                            <div class="candle">
                                <div class="flame"></div>
                            </div>
                            <div class="candle">
                                <div class="flame"></div>
                            </div>
                        </div>
                    </div>
                    <button id="blowCandlesBtn" class="quizSubmit">Blow candles ðŸŽ‚</button>
                </div>
            </div>

            <!-- STEP 4: FIREWORKS + MESSAGE -->
            <div class="experienceScreen experienceScreen--fireworks">
                <div class="experienceCard experienceCard--transparent">
                    <div class="fireworksContainer">
                        <div class="firework f1"></div>
                        <div class="firework f2"></div>
                        <div class="firework f3"></div>
                    </div>
                    <h2 class="fireworksMessage">Wishing You A Beautiful Year Ahead</h2>
                    <p class="fireworksSub">Happy Birthday Pavitra ðŸŽ‰</p>
                    <button id="unlockSurpriseBtn" class="quizSubmit">Unlock your surprise</button>
                </div>
            </div>
        </div>
        <!-- END EXPERIENCE OVERLAY -->

    </div>

</body>

<script>
    // ---------------------
    // DATE TYPING EFFECT
    // ---------------------
    let datetxt = "20th December";
    let charArrDate = datetxt.split('');
    let currentIndex = 0;
    let dateSpan = document.querySelector(".date__of__birth span");

    setTimeout(function () {
        let timeDatetxt = setInterval(function () {
            if (currentIndex < charArrDate.length) {
                dateSpan.textContent += charArrDate[currentIndex];
                currentIndex++;
            } else {
                // add stars once done
                let i = document.createElement("i");
                i.className = "fa-solid fa-star";
                document.querySelector(".date__of__birth").prepend(i);
                document.querySelector(".date__of__birth").appendChild(i.cloneNode(true));
                clearInterval(timeDatetxt);
            }
        }, 100);
    }, 12000);


    // ---------------------
    // SMALL LOCK POPUP
    // ---------------------
    const btnLetter = document.getElementById("btn__letter");
    const miniLockPopup = document.getElementById("miniLockPopup");
    const miniContinue = document.getElementById("miniContinue");
    const miniExit = document.getElementById("miniExit");

    btnLetter.addEventListener("click", function () {
        miniLockPopup.style.display = "block";
    });

    miniExit.addEventListener("click", function () {
        miniLockPopup.style.display = "none";
    });


    // ---------------------
    // EXPERIENCE FLOW
    // ---------------------
    const experienceOverlay = document.getElementById("experienceOverlay");

    function setExperienceStep(step) {
        const screens = document.querySelectorAll(".experienceScreen");
        screens.forEach(s => s.classList.remove("experienceScreen--active"));

        const active = document.querySelector(".experienceScreen--" + step);
        if (active) {
            active.classList.add("experienceScreen--active");
        }

        // show overlay
        experienceOverlay.classList.add("experienceOverlay--active");
    }

    // After "Continue" from small popup â†’ open quiz
    miniContinue.addEventListener("click", function () {
        miniLockPopup.style.display = "none";
        setExperienceStep("quiz");
    });

    // QUIZ SUBMIT
    const quizForm = document.getElementById("quizForm");
    quizForm.addEventListener("submit", function (e) {
        e.preventDefault();
        // you can add validation / scoring here if you want
        setExperienceStep("photo");
    });

    // PHOTO NEXT
    const photoNextBtn = document.getElementById("photoNextBtn");
    photoNextBtn.addEventListener("click", function () {
        setExperienceStep("cake");
    });

    // CAKE â†’ BLOW CANDLES â†’ FIREWORKS
    const blowCandlesBtn = document.getElementById("blowCandlesBtn");
    const cakeScreen = document.querySelector(".experienceScreen--cake");

    blowCandlesBtn.addEventListener("click", function () {
        cakeScreen.classList.add("cake--blown");
        // little delay then fireworks
        setTimeout(function () {
            setExperienceStep("fireworks");
        }, 1200);
    });

    // UNLOCK SURPRISE â†’ OPEN ORIGINAL LOVE LETTER POPUP
    const unlockSurpriseBtn = document.getElementById("unlockSurpriseBtn");

    function openLoveLetter() {
        const boxmail = document.querySelector(".boxMail");
        if (boxmail) {
            boxmail.classList.add("active");
        }
    }

    unlockSurpriseBtn.addEventListener("click", function () {
        experienceOverlay.classList.remove("experienceOverlay--active");
        openLoveLetter();
    });

    // ---------------------
    // BOXMAIL CLOSE (EXISTING)
    // ---------------------
    const boxmail = document.querySelector(".boxMail");
    const closeIcon = document.querySelector(".boxMail .fa-xmark");

    if (closeIcon && boxmail) {
        closeIcon.addEventListener("click", function () {
            boxmail.classList.remove("active");
        });
    }

    // NOTE: We DISCONNECTED direct .mail click â†’ .boxMail
    // so love letter only opens after full flow.
</script>

</html>
